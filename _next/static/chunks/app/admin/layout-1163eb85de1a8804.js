(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{3812:function(e,t,n){Promise.resolve().then(n.bind(n,3438))},3438:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(7437),s=n(2265),r=n(4033),l=n(1396),i=n.n(l),o=n(2169),c=n(5119),d=n(4322),m=n(6712),u=n(1738),f=n(6637),h=n(2882),x=n(5750),p=n(1295),N=n(3673),g=n(1827),y=n(2457),b=n(9409);let j=[{name:"Dashboard",href:"/admin",icon:c.Z},{name:"Products",href:"/admin/products",icon:d.Z},{name:"Bundles",href:"/admin/bundles",icon:m.Z},{name:"Orders",href:"/admin/orders",icon:u.Z},{name:"Blog Posts",href:"/admin/blog",icon:f.Z},{name:"Comments",href:"/admin/comments",icon:h.Z},{name:"Users",href:"/admin/users",icon:x.Z},{name:"Email Campaigns",href:"/admin/email",icon:p.Z},{name:"Coupons",href:"/admin/coupons",icon:N.Z},{name:"Search",href:"/admin/search",icon:g.Z},{name:"Analytics",href:"/admin/analytics",icon:y.Z},{name:"Settings",href:"/admin/settings",icon:b.Z}];function v(){let e=(0,r.usePathname)();return(0,a.jsxs)("div",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:[(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"})}),(0,a.jsx)("nav",{className:"px-4 pb-4",children:(0,a.jsx)("ul",{className:"space-y-1",children:j.map(t=>{let n=e===t.href;return(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:t.href,className:(0,o.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",n?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[(0,a.jsx)(t.icon,{className:"mr-3 h-5 w-5"}),t.name]})},t.name)})})})]})}var w=n(575),_=n(4645),C=n(1465);let I=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(C.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...s})});I.displayName=C.fC.displayName;let E=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(C.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",n),...s})});E.displayName=C.Ee.displayName;let R=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(C.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...s})});R.displayName=C.NY.displayName;var Z=n(3021),O=n(7972),S=n(5883),U=n(7870),k=n(8025),T=n(2601);let A=new U.c({region:T.env.NEXT_PUBLIC_AWS_REGION||"us-east-1"});async function z(){try{{let e=localStorage.getItem("access_token");if(e){let t=new k.e({AccessToken:e});await A.send(t)}}}catch(e){console.error("Sign out error:",e)}finally{localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("expires_at"),window.location.href="/"}}function P(e){var t;let{user:n}=e,[r]=(0,s.useState)(3),l=async()=>{await z()};return(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"NYASC Admin"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(w.z,{variant:"ghost",size:"sm",className:"relative",children:[(0,a.jsx)(Z.Z,{className:"h-5 w-5"}),r>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:r})]}),(0,a.jsxs)(_.h_,{children:[(0,a.jsx)(_.$F,{asChild:!0,children:(0,a.jsx)(w.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,a.jsxs)(I,{className:"h-8 w-8",children:[(0,a.jsx)(E,{src:"",alt:n.name}),(0,a.jsx)(R,{children:null===(t=n.name)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join("").toUpperCase()})]})})}),(0,a.jsxs)(_.AW,{className:"w-56",align:"end",forceMount:!0,children:[(0,a.jsx)(_.Ju,{className:"font-normal",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:n.name}),(0,a.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:n.email})]})}),(0,a.jsx)(_.VD,{}),(0,a.jsx)(_.Xi,{asChild:!0,children:(0,a.jsxs)("a",{href:"/account",className:"flex items-center",children:[(0,a.jsx)(O.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Account"})]})}),(0,a.jsx)(_.Xi,{asChild:!0,children:(0,a.jsxs)("a",{href:"/admin/settings",className:"flex items-center",children:[(0,a.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Settings"})]})}),(0,a.jsx)(_.VD,{}),(0,a.jsxs)(_.Xi,{onClick:l,className:"text-red-600",children:[(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Sign out"})]})]})]})]})]})})})}function D(e){let{children:t}=e,[n,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0);return((0,r.useRouter)(),(0,s.useEffect)(()=>{l({name:"Admin",isAdmin:!0}),o(!1)},[]),i)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(P,{user:n}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(v,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:t})]})]}):null}T.env.NEXT_PUBLIC_COGNITO_USER_POOL_ID,T.env.NEXT_PUBLIC_COGNITO_CLIENT_ID,T.env.NEXT_PUBLIC_AWS_REGION,T.env.NEXT_PUBLIC_COGNITO_DOMAIN,T.env.NEXT_PUBLIC_COGNITO_REDIRECT_URI,T.env.NEXT_PUBLIC_COGNITO_LOGOUT_URI},575:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var a=n(7437),s=n(2265),r=n(7256),l=n(6061),i=n(2169);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-nyasc-yellow-500 text-nyasc-gray-800 hover:bg-nyasc-yellow-600 shadow-lg hover:shadow-xl",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border-2 border-nyasc-blue-900 text-nyasc-blue-900 hover:bg-nyasc-blue-900 hover:text-white",secondary:"bg-nyasc-gray-100 text-nyasc-gray-900 hover:bg-nyasc-gray-200",ghost:"text-nyasc-gray-700 hover:bg-nyasc-gray-100",link:"text-nyasc-blue-500 underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-xl px-4",lg:"h-14 rounded-2xl px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:n,variant:s,size:l,asChild:c=!1,...d}=e,m=c?r.g7:"button";return(0,a.jsx)(m,{className:(0,i.cn)(o({variant:s,size:l,className:n})),ref:t,...d})});c.displayName="Button"},4645:function(e,t,n){"use strict";n.d(t,{$F:function(){return m},AW:function(){return u},Ju:function(){return h},VD:function(){return x},Xi:function(){return f},h_:function(){return d}});var a=n(7437),s=n(2265),r=n(7616),l=n(7158),i=n(2442),o=n(6369),c=n(2169);let d=r.fC,m=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,s.forwardRef((e,t)=>{let{className:n,inset:s,children:i,...o}=e;return(0,a.jsxs)(r.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",n),...o,children:[i,(0,a.jsx)(l.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=r.fF.displayName,s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})}).displayName=r.tu.displayName;let u=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...l}=e;return(0,a.jsx)(r.Uv,{children:(0,a.jsx)(r.VY,{ref:t,sideOffset:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...l})})});u.displayName=r.VY.displayName;let f=s.forwardRef((e,t)=>{let{className:n,inset:s,...l}=e;return(0,a.jsx)(r.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",n),...l})});f.displayName=r.ck.displayName,s.forwardRef((e,t)=>{let{className:n,children:s,checked:l,...o}=e;return(0,a.jsxs)(r.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:l,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})}),s]})}).displayName=r.oC.displayName,s.forwardRef((e,t)=>{let{className:n,children:s,...l}=e;return(0,a.jsxs)(r.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=r.Rk.displayName;let h=s.forwardRef((e,t)=>{let{className:n,inset:s,...l}=e;return(0,a.jsx)(r.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",n),...l})});h.displayName=r.__.displayName;let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",n),...s})});x.displayName=r.Z0.displayName},2169:function(e,t,n){"use strict";n.d(t,{Eh:function(){return o},T4:function(){return l},cn:function(){return r},p6:function(){return i}});var a=n(7042),s=n(4769);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,a.W)(t))}function l(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function i(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function o(e){return Math.ceil(e.split(/\s+/).length/200)}}},function(e){e.O(0,[61,396,822,222,658,971,938,744],function(){return e(e.s=3812)}),_N_E=e.O()}]);